syntax = "proto3";

option go_package = "./pb";

package pb;

message UserInfo {
  string name = 1;   // 用户ID
  string nickname = 2;
  string avatar = 3;
  string email = 5;
  string gender = 6;
}

message RegisterUserReq {
    optional string  email = 1;
    optional string  phone = 2;
    string  password = 3;
    string  registerType = 4; // registerType: email(邮箱注册)，phone(手机号注册)
}

message RegisterUserResp {
    string message = 1;
}

message LoginUserReq {
    string  email = 1;
    string  password = 2;
}

message LoginUserResp {
    int64 id = 1;
    string name = 2;
    string message = 3;
}

message ResetPasswordReq {
    string  email = 1;
    string  newPassword =2;
}

message ResetPasswordResp {
    string message = 1;
}

message SearchUserReq {
  string email = 1;
}

message SearchUserRes {
  UserInfo user_info = 1; // 用户信息
}

service usercenter {
    // 注册用户
    rpc registerUser(RegisterUserReq)returns(RegisterUserResp);

    // 用户登录
    rpc loginUser(LoginUserReq)returns(LoginUserResp);

    // 重置密码
    rpc resetPassword(ResetPasswordReq)returns(ResetPasswordResp);

    // 搜索用户
    rpc SearchUser(SearchUserReq) returns(SearchUserRes); 
}
